<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Formulario</title>
  <link rel="stylesheet" href="estilos.css">
</head>

<body>
  <!-- Forma de procesamiento.
 
    id="vista"
    nombre de esta forma dentro del documento. Se puede usar directamente desde
    EcmaScript. Ningún otro element en este documento puede tener el mismo id.
    -->
  <form id="vista">
    <!-- Encabezado de la página. -->
    <h1>Formulario</h1>
    <p>
      <!-- Campo de captura de texto. Atributos:

        type="text"
        Indica que el campo input sirve para capturar texto en general.

        id="nombre" 
        nombre del campo de texto dentro de este documento.
 
        required
        el campo debe tener un valor antes de hacer submit; de lo contrario se
        maa un error el submit se cancela.
 
        placeholder="Nombre"
        Texto conocido como sello de agua. Cuando el elemento no tiene valor,
        se muestra el valor de placeholder. Cuando sí tiene valor, el sello de
        agua se quita y se pone el valor del elemento. -->
      <input type="text" id="nombre" required placeholder="Nombre">
    </p>
    <p>
      <!-- botón con el texto "Saludar". Sirve para activar la forma.
 
        type="submit"
        Indica que la activación del botón, activa la forma. -->
      <button type="submit">Saludar</button>
    </p>
    <footer>Copyright &copy; 2020 Gilberto Pacheco Gallegos.</footer>
  </form>
  <!-- Incorpora el script controlador a la página. -->
  <script type="module">
    //@ts-check
    /* Todos los element de HTML reciben eventos, tales como un clic, la
     * presión de una tecla, el movimiento del ratón sobre ellos, etc. Los
     * event listener son funciones que se invocan cuando alguno de ellos
     * sucede.
     * El método addEventListener de un element, asocia un evento, como
     * "click" (hacer clic en un element) o "input" (presionar una tecla) con
     * una función event listener. En este caso, se declara que la funcion
     * "saluda" se invoque cuando se genere el evento "submit" en la form con
     * name="vista".
     * El evento submit es la activación de la forma y se genera cuando
     * se cliquea o se presiona la tecla de espacio sobre un element de
     * type="submit" dentro de la forma, o cuando se teclea enter con el
     * foco dentro de un componente de captura de texto dentro de la forma. */
    // @ts-ignore
    vista.addEventListener("submit", saluda);
    /** Muestra un saludo.
     * @param {Event} evt objeto que describe el evento. */
    function saluda(evt) {

      /* El evento "submit" carga este mismo archivo desde internet. En este
       * ejemplo lo que se desea es procesar sin recargar. Para evitar el
       * comportamiento predeterminado, se usa el método "preventDefault". */
      evt.preventDefault();

      /* Se evalúa la expresión nombre.value que está dentro del delimitador
       * ${ }, para posteriormente sustituirlo dentro de la cadena.
       * El resultado se deja en la variable "respuesta".
       * EL TEXTO DE LA CADENA EMPIEZA Y TERMINA CON EL ACENTO INVERTIDO. */
      // @ts-ignore
      const respuesta = `Saludos a ${nombre.value}.`;
      // Muestra la respuesta en un cuadro de diálogo de alerta.
      alert(respuesta);
    }
  </script>
</body>

</html>